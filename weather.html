<!DOCTYPE html>
<html>
  <head>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
      <script>

        $(document).ready(function(){
          var actual;

          //the switch prints to console first. is this because of ajax
          $.getJSON("http://cooper-union-weather-proxy.herokuapp.com/weather/NY/Manhattan", function(response){
            console.log(response);

            //when would you want to access data this way
            actual = response.current_observation.temp_c;
            console.log(actual);
          });

            var think = prompt("How cold do you think it is?");

            var diff = think;
            switch(Math.floor(diff)){
              case 10:
                console.log("");
                break;
              case 20:
                console.log("");
                break;
              default:
                console.log("");
            }



				var dateTime = new Date();
				var currentEpoch = dateTime.getTime(); //http://en.wikipedia.org/wiki/Unix_time

				//set up an empty api object to store all of your information in
				var api = {};

        //we are adding new key.value pairs.
				//set specific properties
				api.key = "";
				api.state = "NY";
				api.city = "Brooklyn";

				//use string concatenation to create the full url
				//http://api.wunderground.com/api/asdfadsf1234/hourly/q/NY/Brooklyn.json
					// api.hourly = "http://api.wunderground.com/api/"+api.key+"/hourly/q/"+api.state+"/"+api.city+".json";
					api.conditions = "http://cooper-union-weather-proxy.herokuapp.com/weather/"+api.state+"/"+api.city;

				//take a look at the object by using console.log(api)
				console.log(api);

				//Request data remotely from the api
				//note that the url parameter uses one of the urls stored in the api object
				$.ajax({
				  type: 'GET',
				  dataType: 'json',
				  url: api.conditions,
				  success: function(response){

				  	//here's where all of your fun code goes!
						//the variable "response" is now a json object containing all of your results
						console.log(response);

						//example of outputting the current temp
						$('#temperature').append(response.current_observation.feelslike_f + " degrees f");
						var imageTag = '<img src="'+response.current_observation.icon_url+'"/>';
						$('#temperature').append(imageTag);

						var whenTempWasTaken = parseInt(currentEpoch/1000) - parseInt(response.current_observation.observation_epoch);
						console.log("Temperature reading is " + whenTempWasTaken + " seconds old.");
				  }
				});


        });

      </script>
      <style>
        body{
          background-color: yellow;
        }
      </style>
  </head>
  <body>
    <h1 id="output">What is the weather like outside?</h1>
    <div id="temperature"><div>
  </body>

</html>
